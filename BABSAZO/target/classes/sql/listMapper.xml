<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="list">
	<select id="allList" resultType="com.babsazo.model.ListCommand">
		<!-- select * from store_list a , seating b where a.store_no = b.store_no -->
		<!-- select * from store_list a , seating b where a.store_no = b.store_no and to_char(sysdate,'hh24')=substr(bk_time,0,2) and to_char(sysdate,'yyyy-mm-dd') = bk_date -->
		
		<!-- 11시 이전 bk_time 이 없어서 해당시간에 +2 해줌 -->
		select * from store_list a , seating b where a.store_no = b.store_no and to_char(sysdate,'hh24')+2=substr(bk_time,0,2) and to_char(sysdate,'yyyy-mm-dd') = bk_date
	</select>
	
	<select id="totalListCount" resultType="int">
		select count(*) from store_list
	</select>
	
	<!-- <sql id="test1"></sql> -->
	<!-- <select id="selectOneBoardList" parameterType="int" resultType="summer.model.BoardCommand">
		select NUM, WRITER, SUBJECT, REG_DATE, CONTENT from BOARD where num = #{boardNum}
	</select>	
	
	<update id="updateBoardList" parameterType="summer.model.BoardCommand">
		update BOARD set SUBJECT =#{subject} , REG_DATE = sysdate, CONTENT=#{content} where NUM = #{num}
	</update>
	
	<delete id="deleteBoard" parameterType="int">
		delete from BOARD where NUM = #{num}
	</delete>
	
	<insert id="insertBoardList" parameterType="summer.model.BoardCommand">
		insert into BOARD(NUM, WRITER, SUBJECT, REG_DATE, CONTENT) values(BOARD_NUM.NEXTVAL,#{writer},#{subject},sysdate,#{content})
	</insert>
	
	<insert id="insertBoardListWithTime" parameterType="summer.model.BoardCommand">
		insert into BOARD(NUM, WRITER, SUBJECT, REG_DATE, CONTENT) values(BOARD_NUM.NEXTVAL,#{writer},#{subject},#{reg_date},#{content})
	</insert> -->
	
</mapper>